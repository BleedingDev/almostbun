<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>almostnode — Node.js in your browser</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">
    <style>
      :root {
        --bg: #06060b;
        --bg-card: #0d0d16;
        --bg-code: #0a0a14;
        --border: #16162a;
        --border-hover: #2a2a4a;
        --text: #d4d4e8;
        --text-muted: #7a7a9e;
        --text-bright: #eeeef8;
        --accent-blue: #6d9fff;
        --accent-purple: #b28dff;
        --accent-pink: #f472b6;
        --accent-green: #6ee7b7;
        --font-body: 'DM Sans', system-ui, sans-serif;
        --font-mono: 'JetBrains Mono', 'Menlo', 'Monaco', monospace;
        --gradient: linear-gradient(135deg, #6d9fff 0%, #b28dff 50%, #f472b6 100%);
        --glow: 0 0 80px rgba(109, 159, 255, 0.08), 0 0 160px rgba(178, 141, 255, 0.04);
      }

      * { box-sizing: border-box; margin: 0; padding: 0; }

      body {
        font-family: var(--font-body);
        background: var(--bg);
        color: var(--text);
        min-height: 100vh;
        -webkit-font-smoothing: antialiased;
        overflow-x: hidden;
      }

      /* ── Nav ── */
      nav {
        position: sticky;
        top: 0;
        z-index: 100;
        background: rgba(6, 6, 11, 0.85);
        backdrop-filter: blur(16px);
        -webkit-backdrop-filter: blur(16px);
        border-bottom: 1px solid var(--border);
      }
      .nav-inner {
        max-width: 1120px;
        margin: 0 auto;
        padding: 0 24px;
        height: 56px;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }
      .nav-logo {
        font-family: var(--font-mono);
        font-size: 1rem;
        font-weight: 500;
        color: var(--text-bright);
        text-decoration: none;
        letter-spacing: -0.02em;
      }
      .nav-logo span {
        background: var(--gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }
      .nav-links {
        display: flex;
        gap: 28px;
        list-style: none;
      }
      .nav-links a {
        font-size: 0.875rem;
        color: var(--text-muted);
        text-decoration: none;
        transition: color 0.2s;
      }
      .nav-links a:hover { color: var(--text-bright); }

      /* ── Hero ── */
      .hero {
        text-align: center;
        padding: 100px 24px 80px;
        max-width: 740px;
        margin: 0 auto;
        position: relative;
      }
      .hero::before {
        content: '';
        position: absolute;
        top: -60px;
        left: 50%;
        transform: translateX(-50%);
        width: 600px;
        height: 400px;
        background: radial-gradient(ellipse, rgba(109, 159, 255, 0.06) 0%, rgba(178, 141, 255, 0.03) 40%, transparent 70%);
        pointer-events: none;
      }
      .hero h1 {
        font-size: clamp(2.5rem, 6vw, 3.75rem);
        font-weight: 700;
        letter-spacing: -0.03em;
        line-height: 1.1;
        background: var(--gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 20px;
        position: relative;
      }
      .hero .subtitle {
        font-size: 1.15rem;
        color: var(--text-muted);
        line-height: 1.65;
        max-width: 540px;
        margin: 0 auto 36px;
      }

      /* Install box */
      .install-box {
        display: inline-flex;
        align-items: center;
        gap: 12px;
        background: var(--bg-code);
        border: 1px solid var(--border);
        border-radius: 10px;
        padding: 12px 16px 12px 20px;
        margin-bottom: 32px;
        font-family: var(--font-mono);
        font-size: 0.9rem;
        position: relative;
      }
      .install-box .prompt { color: var(--accent-green); user-select: none; }
      .install-box code { color: var(--text-bright); }
      .install-box button {
        background: none;
        border: 1px solid var(--border);
        border-radius: 6px;
        color: var(--text-muted);
        cursor: pointer;
        padding: 5px 7px;
        display: flex;
        align-items: center;
        transition: color 0.15s, border-color 0.15s;
      }
      .install-box button:hover {
        color: var(--text-bright);
        border-color: var(--border-hover);
      }
      .install-box button svg { width: 14px; height: 14px; }

      /* CTA row */
      .cta-row {
        display: flex;
        gap: 12px;
        justify-content: center;
        margin-bottom: 28px;
      }
      .btn {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 11px 24px;
        border-radius: 8px;
        font-size: 0.9rem;
        font-weight: 600;
        text-decoration: none;
        transition: transform 0.15s, box-shadow 0.15s;
        font-family: var(--font-body);
      }
      .btn:hover { transform: translateY(-1px); }
      .btn-primary {
        background: var(--gradient);
        color: #0a0a0f;
      }
      .btn-primary:hover { box-shadow: 0 4px 24px rgba(109, 159, 255, 0.25); }
      .btn-secondary {
        background: var(--bg-card);
        border: 1px solid var(--border);
        color: var(--text);
      }
      .btn-secondary:hover {
        border-color: var(--border-hover);
        box-shadow: 0 4px 24px rgba(0,0,0,0.3);
      }
      .btn svg { width: 16px; height: 16px; }

      /* Badges */
      .badges {
        display: flex;
        gap: 8px;
        justify-content: center;
        flex-wrap: wrap;
      }
      .badges a { text-decoration: none; line-height: 0; }
      .badges img { height: 22px; }

      /* ── Section headings ── */
      .section-heading {
        text-align: center;
        margin-bottom: 48px;
      }
      .section-heading h2 {
        font-size: 1.75rem;
        font-weight: 700;
        color: var(--text-bright);
        letter-spacing: -0.02em;
        margin-bottom: 10px;
      }
      .section-heading p {
        color: var(--text-muted);
        font-size: 1rem;
        max-width: 480px;
        margin: 0 auto;
      }

      /* ── Code examples ── */
      .examples-section {
        max-width: 1120px;
        margin: 0 auto;
        padding: 40px 24px 80px;
      }
      .code-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 16px;
      }
      @media (max-width: 900px) {
        .code-grid { grid-template-columns: 1fr; }
      }
      .code-card {
        background: var(--bg-card);
        border: 1px solid var(--border);
        border-radius: 12px;
        overflow: hidden;
        transition: border-color 0.2s, box-shadow 0.2s;
      }
      .code-card:hover {
        border-color: var(--border-hover);
        box-shadow: var(--glow);
      }
      .code-tab {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 16px;
        border-bottom: 1px solid var(--border);
        font-family: var(--font-mono);
        font-size: 0.78rem;
        color: var(--text-muted);
      }
      .code-tab .dot {
        width: 7px; height: 7px;
        border-radius: 50%;
        background: var(--accent-blue);
        opacity: 0.6;
      }
      .code-card pre {
        padding: 16px;
        overflow-x: auto;
        font-family: var(--font-mono);
        font-size: 0.78rem;
        line-height: 1.65;
        color: var(--text);
        scrollbar-width: thin;
        scrollbar-color: var(--border) transparent;
      }
      /* Syntax colors */
      .kw { color: #c084fc; }
      .str { color: #86efac; }
      .fn { color: #93c5fd; }
      .cm { color: #4b5563; }
      .op { color: #94a3b8; }
      .num { color: #fbbf24; }

      /* ── Features ── */
      .features-section {
        max-width: 1120px;
        margin: 0 auto;
        padding: 40px 24px 80px;
      }
      .features-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 16px;
      }
      @media (max-width: 768px) {
        .features-grid { grid-template-columns: 1fr; }
      }
      @media (min-width: 769px) and (max-width: 1024px) {
        .features-grid { grid-template-columns: repeat(2, 1fr); }
      }
      .feature-card {
        background: var(--bg-card);
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 24px;
        transition: border-color 0.2s;
      }
      .feature-card:hover { border-color: var(--border-hover); }
      .feature-icon {
        width: 40px;
        height: 40px;
        border-radius: 10px;
        background: rgba(109, 159, 255, 0.08);
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 14px;
      }
      .feature-icon svg {
        width: 20px;
        height: 20px;
        stroke: var(--accent-blue);
        fill: none;
        stroke-width: 1.5;
        stroke-linecap: round;
        stroke-linejoin: round;
      }
      .feature-card h3 {
        font-size: 0.95rem;
        font-weight: 600;
        color: var(--text-bright);
        margin-bottom: 6px;
      }
      .feature-card p {
        font-size: 0.85rem;
        color: var(--text-muted);
        line-height: 1.55;
      }

      /* ── Demos ── */
      .demos-section {
        max-width: 1120px;
        margin: 0 auto;
        padding: 40px 24px 80px;
      }
      .demos-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 16px;
      }
      .demo-card {
        display: block;
        background: var(--bg-card);
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 24px;
        text-decoration: none;
        color: inherit;
        transition: border-color 0.2s, transform 0.15s, box-shadow 0.2s;
      }
      .demo-card:hover {
        border-color: var(--border-hover);
        transform: translateY(-2px);
        box-shadow: var(--glow);
      }
      .demo-card h3 {
        font-size: 1rem;
        font-weight: 600;
        color: var(--text-bright);
        margin-bottom: 6px;
      }
      .demo-card p {
        font-size: 0.85rem;
        color: var(--text-muted);
        line-height: 1.5;
        margin-bottom: 12px;
      }
      .demo-tag {
        display: inline-block;
        padding: 3px 10px;
        border-radius: 6px;
        font-size: 0.72rem;
        font-family: var(--font-mono);
        background: rgba(109, 159, 255, 0.08);
        color: var(--accent-blue);
        border: 1px solid rgba(109, 159, 255, 0.12);
      }

      /* ── Footer ── */
      footer {
        border-top: 1px solid var(--border);
        text-align: center;
        padding: 32px 24px;
        color: var(--text-muted);
        font-size: 0.8rem;
      }
      footer a {
        color: var(--text-muted);
        text-decoration: none;
        transition: color 0.15s;
      }
      footer a:hover { color: var(--text-bright); }
      footer .footer-links { display: flex; gap: 20px; justify-content: center; margin-bottom: 10px; }

      /* ── Divider ── */
      .divider {
        max-width: 1120px;
        margin: 0 auto;
        padding: 0 24px;
      }
      .divider hr {
        border: none;
        border-top: 1px solid var(--border);
      }

      /* Mobile nav */
      @media (max-width: 600px) {
        .nav-links { gap: 16px; }
        .nav-links a { font-size: 0.8rem; }
        .hero { padding: 72px 20px 60px; }
        .install-box { font-size: 0.8rem; padding: 10px 14px 10px 16px; }
        .cta-row { flex-direction: column; align-items: center; }
        .btn { width: 100%; max-width: 260px; justify-content: center; }
      }
    </style>
  </head>
  <body>

    <!-- Nav -->
    <nav>
      <div class="nav-inner">
        <a href="./" class="nav-logo"><span>almostnode</span></a>
        <ul class="nav-links">
          <li><a href="./docs/">Docs</a></li>
          <li><a href="#demos">Examples</a></li>
          <li><a href="https://github.com/macaly/almostnode">GitHub</a></li>
          <li><a href="https://www.npmjs.com/package/almostnode">npm</a></li>
        </ul>
      </div>
    </nav>

    <!-- Hero -->
    <section class="hero">
      <h1>Node.js in your browser</h1>
      <p class="subtitle">Run Node.js, Next.js, Vite, and Express entirely in the browser. No server required.</p>

      <div class="install-box">
        <span class="prompt">$</span>
        <code>npm install almostnode</code>
        <button onclick="navigator.clipboard.writeText('npm install almostnode').then(()=>{this.innerHTML='<svg viewBox=&quot;0 0 24 24&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-width=&quot;2&quot;><polyline points=&quot;20 6 9 17 4 12&quot;/></svg>';setTimeout(()=>{this.innerHTML='<svg viewBox=&quot;0 0 24 24&quot; fill=&quot;none&quot; stroke=&quot;currentColor&quot; stroke-width=&quot;2&quot;><rect x=&quot;9&quot; y=&quot;9&quot; width=&quot;13&quot; height=&quot;13&quot; rx=&quot;2&quot;/><path d=&quot;M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1&quot;/></svg>'},1500)})" aria-label="Copy">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="9" y="9" width="13" height="13" rx="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
        </button>
      </div>

      <div class="cta-row">
        <a href="./docs/" class="btn btn-primary">Get Started</a>
        <a href="https://github.com/macaly/almostnode" class="btn btn-secondary">
          <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"/></svg>
          GitHub
        </a>
      </div>

      <div class="badges">
        <a href="https://www.npmjs.com/package/almostnode"><img src="https://img.shields.io/npm/v/almostnode?style=flat-square&color=6d9fff&labelColor=0d0d16" alt="npm version"></a>
        <a href="https://github.com/macaly/almostnode"><img src="https://img.shields.io/github/stars/macaly/almostnode?style=flat-square&color=b28dff&labelColor=0d0d16" alt="GitHub stars"></a>
        <a href="https://github.com/macaly/almostnode/blob/main/LICENSE"><img src="https://img.shields.io/github/license/macaly/almostnode?style=flat-square&color=f472b6&labelColor=0d0d16" alt="License"></a>
      </div>
    </section>

    <!-- Code Examples -->
    <section class="examples-section">
      <div class="section-heading">
        <h2>See it in action</h2>
        <p>Real Node.js APIs running entirely client-side</p>
      </div>
      <div class="code-grid">

        <!-- HTTP Server -->
        <div class="code-card">
          <div class="code-tab"><span class="dot"></span> server.ts</div>
          <pre><span class="kw">import</span> <span class="op">{</span> <span class="fn">createContainer</span> <span class="op">}</span> <span class="kw">from</span> <span class="str">'almostnode'</span><span class="op">;</span>

<span class="kw">const</span> <span class="op">{</span> vfs<span class="op">,</span> runtime <span class="op">}</span> <span class="op">=</span> <span class="fn">createContainer</span><span class="op">();</span>

vfs<span class="op">.</span><span class="fn">writeFileSync</span><span class="op">(</span><span class="str">'/server.js'</span><span class="op">,</span> <span class="str">`
  const http = require('http');
  http.createServer((req, res) =&gt; {
    res.writeHead(200);
    res.end('Hello from the browser!');
  }).listen(3000);
`</span><span class="op">);</span>

runtime<span class="op">.</span><span class="fn">runFile</span><span class="op">(</span><span class="str">'/server.js'</span><span class="op">);</span></pre>
        </div>

        <!-- Express -->
        <div class="code-card">
          <div class="code-tab"><span class="dot" style="background:var(--accent-purple)"></span> app.ts</div>
          <pre><span class="kw">import</span> <span class="op">{</span> <span class="fn">createContainer</span> <span class="op">}</span> <span class="kw">from</span> <span class="str">'almostnode'</span><span class="op">;</span>

<span class="kw">const</span> <span class="op">{</span> vfs<span class="op">,</span> npm<span class="op">,</span> runtime <span class="op">}</span> <span class="op">=</span> <span class="fn">createContainer</span><span class="op">();</span>

<span class="kw">await</span> npm<span class="op">.</span><span class="fn">install</span><span class="op">(</span><span class="str">'express'</span><span class="op">);</span>

vfs<span class="op">.</span><span class="fn">writeFileSync</span><span class="op">(</span><span class="str">'/app.js'</span><span class="op">,</span> <span class="str">`
  const express = require('express');
  const app = express();
  app.get('/api', (req, res) =&gt; {
    res.json({ source: 'browser' });
  });
  app.listen(3000);
`</span><span class="op">);</span>

runtime<span class="op">.</span><span class="fn">runFile</span><span class="op">(</span><span class="str">'/app.js'</span><span class="op">);</span></pre>
        </div>

        <!-- Next.js -->
        <div class="code-card">
          <div class="code-tab"><span class="dot" style="background:var(--accent-pink)"></span> next-app.ts</div>
          <pre><span class="kw">import</span> <span class="op">{</span> VirtualFS<span class="op">,</span> NextDevServer<span class="op">,</span>
  <span class="fn">getServerBridge</span> <span class="op">}</span> <span class="kw">from</span> <span class="str">'almostnode'</span><span class="op">;</span>

<span class="kw">const</span> vfs <span class="op">=</span> <span class="kw">new</span> <span class="fn">VirtualFS</span><span class="op">();</span>
<span class="kw">const</span> server <span class="op">=</span> <span class="kw">new</span> <span class="fn">NextDevServer</span><span class="op">(</span>vfs<span class="op">);</span>
<span class="kw">const</span> bridge <span class="op">=</span> <span class="fn">getServerBridge</span><span class="op">();</span>

vfs<span class="op">.</span><span class="fn">writeFileSync</span><span class="op">(</span><span class="str">'/app/page.tsx'</span><span class="op">,</span> <span class="str">`
  export default function Home() {
    return &lt;h1&gt;Next.js in the browser!&lt;/h1&gt;;
  }
`</span><span class="op">);</span>

<span class="kw">await</span> bridge<span class="op">.</span><span class="fn">initServiceWorker</span><span class="op">();</span>
bridge<span class="op">.</span><span class="fn">registerServer</span><span class="op">(</span>server<span class="op">,</span> <span class="num">3000</span><span class="op">);</span></pre>
        </div>

      </div>
    </section>

    <div class="divider"><hr></div>

    <!-- Features -->
    <section class="features-section">
      <div class="section-heading">
        <h2>Everything you need</h2>
        <p>A complete Node.js environment, no backend required</p>
      </div>
      <div class="features-grid">

        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg>
          </div>
          <h3>Virtual Filesystem</h3>
          <p>POSIX-compatible in-memory filesystem with watch, stat, and recursive operations.</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24"><polyline points="4 17 10 11 4 5"/><line x1="12" y1="19" x2="20" y2="19"/></svg>
          </div>
          <h3>Node.js Runtime</h3>
          <p>Execute JS/TS with 40+ shimmed modules — fs, path, http, crypto, streams, and more.</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24"><path d="M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4A2 2 0 0021 16z"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" y1="22.08" x2="12" y2="12"/></svg>
          </div>
          <h3>npm in the Browser</h3>
          <p>Install real npm packages, resolve dependencies, extract tarballs — all client-side.</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24"><rect x="2" y="3" width="20" height="14" rx="2"/><line x1="8" y1="21" x2="16" y2="21"/><line x1="12" y1="17" x2="12" y2="21"/></svg>
          </div>
          <h3>Framework Dev Servers</h3>
          <p>Built-in Next.js and Vite dev servers with file-based routing and React support.</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24"><polyline points="23 4 23 10 17 10"/><polyline points="1 20 1 14 7 14"/><path d="M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"/></svg>
          </div>
          <h3>Hot Module Replacement</h3>
          <p>React Refresh, CSS Modules, and instant file updates without page reload.</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">
            <svg viewBox="0 0 24 24"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>
          </div>
          <h3>Security Modes</h3>
          <p>Cross-origin sandbox, Web Worker isolation, or same-origin main thread execution.</p>
        </div>

      </div>
    </section>

    <div class="divider"><hr></div>

    <!-- Demos -->
    <section class="demos-section" id="demos">
      <div class="section-heading">
        <h2>Try the demos</h2>
        <p>Interactive examples running live in your browser</p>
      </div>
      <div class="demos-grid">

        <a class="demo-card" href="./examples/index.html">
          <h3>HTTP Server</h3>
          <p>Run a Node.js HTTP server in the browser. Edit the code, hit Run, and see it serve pages live.</p>
          <span class="demo-tag">http · require()</span>
        </a>

        <a class="demo-card" href="./examples/next-demo.html">
          <h3>Next.js App</h3>
          <p>A full Next.js development server with App Router, file-based routing, and HMR — all client-side.</p>
          <span class="demo-tag">next.js · app router · hmr</span>
        </a>

        <a class="demo-card" href="./examples/vite-demo.html">
          <h3>Vite Dev Server</h3>
          <p>Vite running in the browser with React, hot module replacement, and npm package installation.</p>
          <span class="demo-tag">vite · react · hmr</span>
        </a>

        <a class="demo-card" href="./examples/express-demo.html">
          <h3>Express Server</h3>
          <p>Express.js with routing, middleware, and JSON APIs — installed and running entirely in your browser.</p>
          <span class="demo-tag">express · npm install</span>
        </a>

      </div>
    </section>

    <!-- Footer -->
    <footer>
      <div class="footer-links">
        <a href="https://github.com/macaly/almostnode">GitHub</a>
        <a href="https://www.npmjs.com/package/almostnode">npm</a>
        <a href="./docs/">Docs</a>
      </div>
      <span>MIT License</span>
    </footer>

  </body>
</html>
